<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"><title>Part4 - Auto & FOV</title><style>body{margin:0;background:#70c5ce;font-family:Arial;overflow:hidden}canvas{display:block;margin:0 auto}#controls{position:absolute;left:12px;bottom:12px;background:#fff;padding:8px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.12)}</style></head><body><canvas id="c" width="320" height="480"></canvas><div id="controls"><label><input id="auto" type="checkbox"> Auto Play</label><br><label><input id="fov" type="checkbox"> FOV</label><br>Radius: <input id="r" type="range" min="30" max="300" value="120"></div><script>const c=document.getElementById('c'),ctx=c.getContext('2d');let bird={x:60,y:200,w:28,h:20,vel:0,grav:0.6,lift:-10},pipes=[],frame=0,gap=120,auto=false,fov=false,radius=120;document.getElementById('auto').addEventListener('change',e=>auto=e.target.checked);document.getElementById('fov').addEventListener('change',e=>fov=e.target.checked);document.getElementById('r').addEventListener('input',e=>radius=Number(e.target.value));c.addEventListener('pointerdown',()=>{bird.vel=bird.lift});function spawn(){pipes.push({x:c.width,y:Math.random()*200-100});}function update(){frame++; if(frame%90===0) spawn(); bird.vel+=bird.grav; bird.y+=bird.vel; for(let p of pipes){p.x-=2; } pipes=pipes.filter(p=>p.x> -60); if(auto){const next=pipes.find(p=>p.x+50>bird.x); if(next){const target=next.y+gap/2; if(bird.y>target) bird.vel=bird.lift;}} }function draw(){ctx.clearRect(0,0,c.width,c.height); for(let p of pipes){ctx.fillStyle='#2e8b57';ctx.fillRect(p.x,0,40,p.y);ctx.fillRect(p.x,p.y+gap,40,c.height-(p.y+gap))} ctx.fillStyle='#ffdd57';ctx.fillRect(bird.x,bird.y,bird.w,bird.h); if(fov){ctx.beginPath();ctx.arc(bird.x+bird.w/2,bird.y+bird.h/2,radius,0,Math.PI*2);ctx.strokeStyle='rgba(255,255,255,0.9)';ctx.stroke();}}function loop(){update();draw();requestAnimationFrame(loop)}loop();</script></body></html>